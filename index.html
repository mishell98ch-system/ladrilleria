<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Ladrillería</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Pantalla Principal -->
    <div class="container screen active" id="main-menu">
        <div class="header">
            <img src="logo.png" alt="LADRILLOS AREQUIPA S.A.C." class="header-logo" 
                 onload="console.log('Logo principal cargado')" 
                 onerror="console.log('Error cargando logo principal'); this.style.display='none'; this.nextElementSibling.style.marginLeft='0'">
            <div class="header-text">
                Sistema de Ladrillería
                <div style="font-size: 14px; font-weight: normal; margin-top: 5px; font-style: italic;">
                    "De su tierra para su gente"
                </div>
            </div>
        </div>
        <div class="content">
            <div class="menu-buttons">
                <button class="menu-button" onclick="showScreen('chofer-selection')">Pedidos</button>
                <button class="menu-button" onclick="showScreen('report-selection')">Reportes</button>
                <button class="menu-button" onclick="showScreen('search')">Buscar</button>
            </div>
        </div>
    </div>

    <!-- Selección de Tipo de Reporte -->
    <div class="container screen" id="report-selection">
        <div class="header">
            <img src="logo.png" alt="LADRILLOS AREQUIPA S.A.C." class="header-logo" onerror="this.style.display='none'">
            <div class="header-text">
                Selecciona el Tipo de Reporte
            </div>
            <button class="back-button" onclick="showScreen('main-menu')">×</button>
        </div>
        <div class="content">
            <div class="choice-grid">
                <button class="choice-button" onclick="showScreen('reports')">Reporte General</button>
                <button class="choice-button" onclick="showScreen('report-by-vendor')">Reporte por Vendedor</button>
                <button class="choice-button" onclick="showScreen('report-by-week-filter')">Reporte por Semana</button>
                <button class="choice-button" onclick="showScreen('report-by-month-filter')">Reporte por Mes</button>
            </div>
            <div style="text-align: center; margin-top: 30px;">
                <button class="action-button" onclick="showScreen('main-menu')">Volver</button>
            </div>
        </div>
    </div>

    <!-- Selección de Chofer -->
    <div class="container screen" id="chofer-selection">
        <div class="header">
            <img src="logo.png" alt="LADRILLOS AREQUIPA S.A.C." class="header-logo" onerror="this.style.display='none'">
            <div class="header-text">
                Selecciona el Chofer
            </div>
            <button class="back-button" onclick="showScreen('main-menu')">×</button>
        </div>
        <div class="content">
            <div class="choice-grid">
                <button class="choice-button" onclick="selectChofer('Chofer 1')">Chofer 1</button>
                <button class="choice-button" onclick="selectChofer('Chofer 2')">Chofer 2</button>
                <button class="choice-button" onclick="selectChofer('Chofer 3')">Chofer 3</button>
                <button class="choice-button" onclick="selectChofer('Chofer 4')">Chofer 4</button>
                <button class="choice-button" onclick="selectChofer('Chofer 5')">Chofer 5</button>
            </div>
            <div style="text-align: center; margin-top: 30px;">
                <button class="action-button" onclick="showScreen('main-menu')">Volver</button>
            </div>
        </div>
    </div>

    <!-- Selección de Día -->
    <div class="container screen" id="day-selection">
        <div class="header">
            Pedidos por Día
            <button class="back-button" onclick="showScreen('chofer-selection')">×</button>
        </div>
        <div class="content">
            <div class="choice-grid days">
                <button class="choice-button" onclick="selectDay('LUNES')">LUNES</button>
                <button class="choice-button" onclick="selectDay('MARTES')">MARTES</button>
                <button class="choice-button" onclick="selectDay('MIERCOLES')">MIÉRCOLES</button>
                <button class="choice-button" onclick="selectDay('JUEVES')">JUEVES</button>
                <button class="choice-button" onclick="selectDay('VIERNES')">VIERNES</button>
                <button class="choice-button" onclick="selectDay('SABADO')">SÁBADO</button>
            </div>
            <div style="text-align: center; margin-top: 30px;">
                <button class="action-button" onclick="showScreen('main-menu')">Volver al menú</button>
            </div>
        </div>
    </div>

    <!-- Formulario de Pedido -->
    <div class="container screen" id="order-form">
        <div class="header">
            <span id="order-title">Pedido</span>
            <button class="back-button" onclick="showScreen('day-selection')">×</button>
        </div>
        <div class="content">
            <div class="form-group">
                <label>Cantidad:</label>
                <input type="number" id="cantidad" placeholder="Ingrese cantidad" oninput="calculateTotal()">
            </div>

            <div class="form-group">
                <label>Tipo de Ladrillo:</label>
                <select id="tipo-ladrillo" onchange="updatePriceFields()">
                    <option value="">Seleccione tipo</option>
                    <option value="H-10 ECO">H-10 ECO</option>
                    <option value="H-10 COM">H-10 COM</option>
                    <option value="H-10 SEG">H-10 SEG</option>
                    <option value="PAND ECO">PAND ECO</option>
                    <option value="PAND COM">PAND COM</option>
                    <option value="PAND SEG">PAND SEG</option>
                    <option value="H-09 ECO">H-09 ECO</option>
                    <option value="H-09 COM">H-09 COM</option>
                    <option value="H-09 SEG">H-09 SEG</option>
                    <option value="H-15">H-15</option>
                    <option value="H-15 SEG">H-15 SEG</option>
                    <option value="H-12">H-12</option>
                    <option value="H-12 SEG">H-12 SEG</option>
                    <option value="H-20">H-20</option>
                </select>
            </div>

            <div class="price-section" id="price-section">
                <div class="price-box" id="price-box-single" style="display: none;">
                    <h4>Precio por Unidad</h4>
                    <input type="number" id="precio-unidad" step="0.01" style="width: 100%;" oninput="calculateTotal()">
                </div>
                <div class="price-box" id="price-box-millar" style="display: none;">
                    <h4>Precio por Millar</h4>
                    <input type="number" id="precio-millar" step="0.01" style="width: 100%;" oninput="calculateTotal()">
                </div>
            </div>

            <div class="form-group">
                <label>Total:</label>
                <input type="number" id="total" step="0.01" readonly style="background-color: #f0f0f0;">
            </div>

            <div class="form-group">
                <label>Forma de Pago:</label>
                <div class="radio-group">
                    <label><input type="radio" name="forma-pago" value="Deposito" onchange="togglePaymentFields()"> Depósito</label>
                    <label><input type="radio" name="forma-pago" value="Efectivo" onchange="togglePaymentFields()"> Efectivo</label>
                </div>
            </div>

            <div class="form-group" id="num-operacion-group" style="display: none;">
                <label>N° de Operación:</label>
                <input type="text" id="num-operacion">
            </div>

            <div class="form-group">
                <label>Total:</label>
                <input type="number" id="total-final" step="0.01" readonly style="background-color: #f0f0f0;">
            </div>

            <div class="form-group">
                <label>Fábrica:</label>
                <select id="fabrica">
                    <option value="">Seleccione fábrica</option>
                    <option value="Ladrillera Arequipa">Ladrillera Arequipa</option>
                    <option value="Ladrillera Choque">Ladrillera Choque</option>
                </select>
            </div>

            <div class="form-group">
                <label>Vendedor:</label>
                <select id="vendedor">
                    <option value="">Seleccione vendedor</option>
                    <option value="Vicente">Vicente</option>
                    <option value="Susan">Susan</option>
                    <option value="Of.de Cono Norte">Of.de Cono Norte</option>
                </select>
            </div>

            <div class="bottom-buttons">
                <button class="action-button" onclick="saveOrder()">Guardar Pedido</button>
                <button class="action-button" onclick="showGastosForm()">Ingresar Gastos</button>
                <button class="action-button" onclick="showScreen('day-selection')">Salir</button>
            </div>
        </div>
    </div>

    <!-- Pantalla de Búsqueda -->
    <div class="container screen" id="search">
        <div class="header">
            Buscador
            <button class="back-button" onclick="showScreen('main-menu')">×</button>
        </div>
        <div class="content">
            <div class="search-filters">
                <div class="filter-row">
                    <label>Seleccionar el Chofer:</label>
                    <select id="search-chofer">
                        <option value="">Todos los choferes</option>
                        <option value="Chofer 1">Chofer 1</option>
                        <option value="Chofer 2">Chofer 2</option>
                        <option value="Chofer 3">Chofer 3</option>
                        <option value="Chofer 4">Chofer 4</option>
                        <option value="Chofer 5">Chofer 5</option>
                    </select>
                </div>

                <div class="filter-row">
                    <label>Seleccionar Dia:</label>
                    <select id="search-dia">
                        <option value="">Todos los días</option>
                        <option value="LUNES">LUNES</option>
                        <option value="MARTES">MARTES</option>
                        <option value="MIÉRCOLES">MIÉRCOLES</option>
                        <option value="JUEVES">JUEVES</option>
                        <option value="VIERNES">VIERNES</option>
                        <option value="SÁBADO">SÁBADO</option>
                    </select>
                </div>

                <div style="text-align: center; margin-top: 20px;">
                    <button class="action-button" onclick="performSearch()">Buscar</button>
                </div>
            </div>

            <div id="search-results-summary" class="results-summary" style="display: none;"></div>

            <div id="search-results-table" style="display: none; overflow-x: auto;">
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Cantidad</th>
                            <th>Tipo Ladrillo</th>
                            <th>Fábrica</th>
                            <th>Chofer</th>
                            <th>Día</th>
                            <th>Precio Unit.</th>
                            <th>Precio Millar</th>
                            <th>Total</th>
                            <th>Forma Pago</th>
                            <th>N° Operación</th>
                            <th>Vendedor</th>
                            <th>Acción</th>
                        </tr>
                    </thead>
                    <tbody id="search-results-tbody">
                    </tbody>
                </table>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="action-button" onclick="showScreen('main-menu')">SALIR</button>
            </div>
        </div>
    </div>

    <!-- Pantalla de Sincronización en la Nube -->
    <div class="container screen" id="cloud-sync">
        <div class="header">
            <img src="logo.png" alt="LADRILLOS AREQUIPA S.A.C." class="header-logo" onerror="this.style.display='none'">
            <div class="header-text">
                ☁️ Sincronización en la Nube
            </div>
            <button class="back-button" onclick="showScreen('main-menu')">×</button>
        </div>
        <div class="content">
            <div style="background: #e3f2fd; padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #2196F3;">
                <h3 style="margin-top: 0; color: #1565C0;">🚀 Accede desde Cualquier Dispositivo</h3>
                <p style="font-size: 15px; line-height: 1.6; margin: 10px 0; color: #333;">
                    Configura Firebase (gratis) y tus datos se sincronizarán automáticamente en la nube.<br>
                    Podrás acceder desde tu <strong>celular, tablet o cualquier computadora</strong>.
                </p>
            </div>

            <!-- Estado de Configuración -->
            <div id="firebase-config-status" style="background: #fff3cd; padding: 20px; border-radius: 8px; margin-bottom: 20px; border: 2px solid #ffc107;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="font-size: 48px;">⚙️</div>
                    <div style="flex: 1;">
                        <h4 style="margin: 0 0 5px 0; color: #856404;">Estado: <span id="firebase-status-text">No Configurado</span></h4>
                        <p style="margin: 0; color: #666; font-size: 14px;" id="firebase-status-desc">
                            Configura Firebase para habilitar la sincronización
                        </p>
                    </div>
                </div>
            </div>

            <!-- Instrucciones Simples -->
            <div style="background: white; padding: 25px; border-radius: 8px; box-shadow: var(--shadow); margin-bottom: 20px;">
                <h3 style="margin-top: 0; color: var(--primary-color);">📋 Configuración Rápida (5 minutos)</h3>
                <ol style="line-height: 2; color: #333;">
                    <li>Ve a <a href="https://console.firebase.google.com" target="_blank" style="color: var(--primary-color); font-weight: bold;">Firebase Console</a></li>
                    <li>Haz clic en <strong>"Agregar proyecto"</strong></li>
                    <li>Ponle un nombre (ej: "ladrilleria")</li>
                    <li>Desactiva Google Analytics (no lo necesitas)</li>
                    <li>En el menú izquierdo: <strong>Realtime Database → Crear base de datos</strong></li>
                    <li>Selecciona <strong>"Modo de prueba"</strong> → Habilitar</li>
                    <li>Ve a <strong>Configuración del proyecto ⚙️ → Tus aplicaciones</strong></li>
                    <li>Haz clic en el ícono <strong>&lt;/&gt;</strong> (Web)</li>
                    <li>Registra la app y <strong>copia la configuración</strong></li>
                </ol>
            </div>

            <!-- Formulario de Configuración -->
            <div style="background: var(--bg-light); padding: 25px; border-radius: 8px; border: 2px solid var(--border-color);">
                <h3 style="margin-top: 0; color: var(--primary-color); text-align: center;">🔧 Pegar Configuración</h3>
                
                <div class="form-group" style="margin: 20px 0;">
                    <label>API Key:</label>
                    <input type="text" id="firebase-apiKey" placeholder="AIzaSyD..." style="width: 100%; max-width: 100%;">
                </div>

                <div class="form-group" style="margin: 20px 0;">
                    <label>Database URL:</label>
                    <input type="text" id="firebase-databaseURL" placeholder="https://tu-proyecto.firebaseio.com" style="width: 100%; max-width: 100%;">
                </div>

                <div class="form-group" style="margin: 20px 0;">
                    <label>Project ID:</label>
                    <input type="text" id="firebase-projectId" placeholder="tu-proyecto-12345" style="width: 100%; max-width: 100%;">
                </div>

                <div style="text-align: center; margin-top: 25px;">
                    <button class="action-button" onclick="saveFirebaseConfig()" style="font-size: 16px;">
                        💾 Guardar y Activar
                    </button>
                    <button class="action-button" onclick="testFirebaseConnection()" style="background: #4CAF50; font-size: 16px;">
                        🔌 Probar Conexión
                    </button>
                </div>
            </div>

            <div id="cloud-sync-status" style="margin: 20px 0; padding: 15px; border-radius: 6px; display: none;"></div>

            <!-- Panel de Sincronización -->
            <div id="sync-panel" style="display: none; background: white; padding: 25px; border-radius: 8px; box-shadow: var(--shadow); margin-top: 30px;">
                <h3 style="margin-top: 0; color: var(--primary-color); text-align: center;">🔄 Sincronización</h3>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 20px;">
                    <div style="text-align: center;">
                        <button class="action-button" onclick="syncToCloud()" style="width: 100%; background: #2196F3;">
                            ☁️ Subir a la Nube
                        </button>
                        <p style="margin: 10px 0; font-size: 12px; color: #666;">
                            <span id="local-count">0</span> registros locales
                        </p>
                    </div>

                    <div style="text-align: center;">
                        <button class="action-button" onclick="syncFromCloud()" style="width: 100%; background: #4CAF50;">
                            📥 Descargar de la Nube
                        </button>
                        <p style="margin: 10px 0; font-size: 12px; color: #666;">
                            Sincronizar con otros dispositivos
                        </p>
                    </div>

                    <div style="text-align: center;">
                        <button class="action-button" onclick="enableAutoSync()" style="width: 100%; background: #FF9800;">
                            ⚡ Sincronización Automática
                        </button>
                        <p style="margin: 10px 0; font-size: 12px; color: #666;">
                            <span id="auto-sync-status">Desactivada</span>
                        </p>
                    </div>
                </div>

                <div style="background: #e8f5e9; padding: 15px; border-radius: 6px; margin-top: 20px; border-left: 4px solid #4CAF50;">
                    <strong style="color: #2e7d32;">✅ Sincronización Configurada</strong>
                    <p style="margin: 10px 0 0 0; color: #666; font-size: 14px;">
                        Tus datos se guardan en la nube. Ahora puedes acceder desde cualquier dispositivo usando la misma configuración.
                    </p>
                </div>

                <!-- Botón de Limpiar Datos (se oculta automáticamente cuando no hay datos) -->
                <div id="clear-data-container" style="background: #fff3cd; padding: 20px; border-radius: 8px; margin-top: 20px; border: 2px solid #ffc107; display: none;">
                    <h4 style="margin: 0 0 10px 0; color: #856404;">⚠️ Zona de Limpieza</h4>
                    <p style="margin: 0 0 15px 0; color: #666; font-size: 14px;">
                        Usa esto solo si quieres empezar de cero (elimina TODOS los pedidos y gastos)
                    </p>
                    <button class="action-button" onclick="clearAllData()" style="width: 100%; background: #f44336; font-size: 16px;">
                        🗑️ Limpiar Todos los Datos
                    </button>
                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="action-button" onclick="showScreen('main-menu')">Volver al Menú</button>
            </div>
        </div>
    </div>

    <!-- Pantalla de Reportes -->
    <div class="container screen" id="reports">
        <div class="header">
            Reporte General
            <button class="back-button" onclick="showScreen('report-selection')">×</button>
        </div>
        <div class="content">
            <div class="weekly-report">
                <div class="report-title">Reporte de Pedidos</div>
                
                <div class="report-summary">
                    <div><strong>Total de millares:</strong> <span id="total-millares">0</span> (total de millares)</div>
                    <div><strong>Venta Total:</strong> <span id="venta-total">0</span> (total de ventas)</div>
                    <div><strong>Costo Fábrica:</strong> <span id="costo-fabrica">0</span> (costo de planta por millares)</div>
                    <div><strong>Ganancia Choferes:</strong> <span id="ganancia-choferes">0</span> (millares × S/59)</div>
                    <div><strong>Total Gastos:</strong> <span id="total-gastos-reporte">0</span> (gastos operativos)</div>
                    <div><strong>Ganancia Total:</strong> <span id="ganancia-total">0</span> (ventas - costos - gastos - pago choferes)</div>
                </div>

                <div class="chofer-section">
                    <div class="chofer-title">Chofer / Nombre</div>
                </div>

                <div id="weekly-report-table">
                    <table class="results-table">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Millares</th>
                                <th>Costo Fábrica</th>
                                <th>Gastos</th>
                                <th>Petroleo</th>
                                <th>Pago Chofer</th>
                                <th>Ventas</th>
                            </tr>
                        </thead>
                        <tbody id="weekly-report-tbody">
                        </tbody>
                    </table>
                </div>

                <div class="report-actions">
                    <button class="action-button" onclick="printReport()">IMPRIMIR</button>
                    <button class="action-button" onclick="showOrdersViewer()">VISUALIZAR EL PEDIDO</button>
                    <button class="action-button" onclick="showScreen('report-selection')">VOLVER</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Pantalla de Visualización de Pedidos -->
    <div class="container screen" id="orders-viewer">
        <div class="header">
            Pedidos y Gastos de Esta Semana
            <button class="back-button" onclick="showScreen('reports')">×</button>
        </div>
        <div class="content">
            <div class="orders-viewer">
                <h3>Pedidos y Gastos de Esta Semana</h3>
                
                <div id="orders-viewer-content">
                    <p>Cargando datos...</p>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button class="action-button" onclick="showScreen('reports')">Volver al Reporte</button>
                    <button class="action-button" onclick="showScreen('main-menu')">Menú Principal</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Pantalla de Gastos -->
    <div class="container screen" id="gastos-form">
        <div class="header">
            <span id="gastos-title">Gastos</span>
            <button class="back-button" onclick="showScreen('order-form')">×</button>
        </div>
        <div class="content">
            <div class="gastos-form">
                <div class="gastos-group">
                    <label>Petroleo:</label>
                    <input type="number" id="petroleo" class="gastos-input" step="0.01" placeholder="Ingrese cantidad">
                </div>

                <div class="gastos-group">
                    <label>Otros:</label>
                </div>

                <div class="gastos-group" style="margin-left: 40px;">
                    <label>Descripción:</label>
                    <textarea id="otros-descripcion" class="gastos-textarea" placeholder="Ingrese descripción"></textarea>
                </div>

                <div class="gastos-group" style="margin-left: 40px;">
                    <label>Cantidad S/:</label>
                    <input type="number" id="otros-cantidad" class="gastos-input" step="0.01" placeholder="Ingrese cantidad">
                </div>

                <div style="text-align: center; margin-top: 40px;">
                    <button class="action-button" onclick="saveGastos()">Guardar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Reporte por Vendedor -->
    <div class="container screen" id="report-by-vendor">
        <div class="header">
            Reporte por Vendedor
            <button class="back-button" onclick="showScreen('report-selection')">×</button>
        </div>
        <div class="content">
            <div class="weekly-report">
                <div class="report-title">Reporte de Ventas por Vendedor</div>
                
                <div id="vendor-report-content">
                    <p>Cargando datos...</p>
                </div>

                <div class="report-actions">
                    <button class="action-button" onclick="printVendorReport()">IMPRIMIR</button>
                    <button class="action-button" onclick="showScreen('report-selection')">VOLVER</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Filtro de Reporte por Semana -->
    <div class="container screen" id="report-by-week-filter">
        <div class="header">
            Reporte por Semana
            <button class="back-button" onclick="showScreen('report-selection')">×</button>
        </div>
        <div class="content">
            <div class="search-filters">
                <h3 style="text-align: center; color: var(--primary-color); margin-top: 0;">Selecciona el Rango de Fechas</h3>
                
                <div class="filter-row">
                    <label>Fecha de Inicio:</label>
                    <input type="date" id="week-start-date" class="filter-row select" style="border: 2px solid var(--border-color); border-radius: 6px; padding: 10px; max-width: 300px; width: 100%;">
                </div>

                <div class="filter-row">
                    <label>Fecha de Fin:</label>
                    <input type="date" id="week-end-date" class="filter-row select" style="border: 2px solid var(--border-color); border-radius: 6px; padding: 10px; max-width: 300px; width: 100%;">
                </div>

                <div style="text-align: center; margin-top: 20px;">
                    <button class="action-button" onclick="generateWeekReport()">Generar Reporte</button>
                </div>
            </div>

            <div id="week-report-results" style="display: none;">
                <div class="report-summary">
                    <div><strong>Total de millares:</strong> <span id="week-total-millares">0</span></div>
                    <div><strong>Venta Total:</strong> <span id="week-venta-total">0</span></div>
                    <div><strong>Costo Fábrica:</strong> <span id="week-costo-fabrica">0</span></div>
                    <div><strong>Ganancia Choferes:</strong> <span id="week-ganancia-choferes">0</span></div>
                    <div><strong>Total Gastos:</strong> <span id="week-total-gastos">0</span></div>
                    <div><strong>Ganancia Total:</strong> <span id="week-ganancia-total">0</span></div>
                </div>

                <div id="week-report-table-container"></div>

                <div class="report-actions">
                    <button class="action-button" onclick="printWeekReport()">IMPRIMIR</button>
                    <button class="action-button" onclick="showScreen('report-selection')">VOLVER</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Filtro de Reporte por Mes -->
    <div class="container screen" id="report-by-month-filter">
        <div class="header">
            Reporte por Mes
            <button class="back-button" onclick="showScreen('report-selection')">×</button>
        </div>
        <div class="content">
            <div class="search-filters">
                <h3 style="text-align: center; color: var(--primary-color); margin-top: 0;">Selecciona el Mes y Año</h3>
                
                <div class="filter-row">
                    <label>Mes:</label>
                    <select id="month-select" style="border: 2px solid var(--border-color); border-radius: 6px; padding: 10px; max-width: 300px; width: 100%;">
                        <option value="0">Enero</option>
                        <option value="1">Febrero</option>
                        <option value="2">Marzo</option>
                        <option value="3">Abril</option>
                        <option value="4">Mayo</option>
                        <option value="5">Junio</option>
                        <option value="6">Julio</option>
                        <option value="7">Agosto</option>
                        <option value="8">Septiembre</option>
                        <option value="9">Octubre</option>
                        <option value="10">Noviembre</option>
                        <option value="11">Diciembre</option>
                    </select>
                </div>

                <div class="filter-row">
                    <label>Año:</label>
                    <select id="year-select" style="border: 2px solid var(--border-color); border-radius: 6px; padding: 10px; max-width: 300px; width: 100%;">
                    </select>
                </div>

                <div style="text-align: center; margin-top: 20px;">
                    <button class="action-button" onclick="generateMonthReport()">Generar Reporte</button>
                </div>
            </div>

            <div id="month-report-results" style="display: none;">
                <div class="report-summary">
                    <div><strong>Total de millares:</strong> <span id="month-total-millares">0</span></div>
                    <div><strong>Venta Total:</strong> <span id="month-venta-total">0</span></div>
                    <div><strong>Costo Fábrica:</strong> <span id="month-costo-fabrica">0</span></div>
                    <div><strong>Ganancia Choferes:</strong> <span id="month-ganancia-choferes">0</span></div>
                    <div><strong>Total Gastos:</strong> <span id="month-total-gastos">0</span></div>
                    <div><strong>Ganancia Total:</strong> <span id="month-ganancia-total">0</span></div>
                </div>

                <div id="month-report-table-container"></div>

                <div class="report-actions">
                    <button class="action-button" onclick="printMonthReport()">IMPRIMIR</button>
                    <button class="action-button" onclick="showScreen('report-selection')">VOLVER</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>